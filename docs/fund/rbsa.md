---
title: 基金风格分析
icon: fund
date: 2024-01-06
category:
  - 基金研究
tag:
  - python
  - RBSA
  - 基金
---

RBSA，即基于收益的风格分析（Return-Based Style Analysis），是一种通过历史回报率来确定投资组合风格或资产配置的技术。这种分析方法最初由William Sharpe提出，旨在评估基金经理的投资风格和对基准的偏离情况。

<!-- more -->


## 基金风格分析的方法

基金风格分析是指对基金的投资风格做出大盘、中盘、小盘和成长、价值的六区间或四区间分类，比如大盘价值、小盘成长等，常用方法主要是基于持仓来分析和基于收益率表现来分析：

1. **风格指数分析**： 使用基金收益与风格指数对比分析，将其归因于不同的风格因子，可以通过相关性、回归分析等方法来分析基金的风格。

2. **持仓比例分析**： 根据基金的持仓，按照成分股的风格和比例来确定基金的风格。


## RBSA基本概念

RBSA，即基于收益的风格分析（Return-Based Style Analysis），是一种通过历史回报率来确定投资组合风格或资产配置的技术。这种分析方法最初由William Sharpe提出，旨在评估基金经理的投资风格和对基准的偏离情况。

与MVP相比，RBSA通常更关注资产的风格和类别配置，而不是直接优化预期收益。它使用历史回报数据来估计投资组合中各资产类别的权重，这些权重则反映了投资组合对各类风格或因子的敞口大小。RBSA的目标是找到一个资产组合，这个资产组合的历史表现最接近被分析的投资组合的历史表现。基于这个原理，我们可以实现对风格指数的配置，来使得配置的组合接近目标基金。

## RBSA基本流程

基金的 Return Based Style Analysis (RBSA) 是一种用于估计基金投资风格的方法，通常涉及以下步骤：

1. **选择基准指数**：选择一系列代表不同投资风格的基准指数（如大盘股、小盘股、成长股、价值股等）。

2. **获取数据**：收集基金和所选基准指数的历史收益率数据。

3. **回归分析**：使用多元线性回归分析，将基金的历史收益率作为因变量，各个基准指数的历史收益率作为自变量。

4. **计算权重**：回归分析的系数反映了基金投资组合对各个基准指数的暴露程度，这些系数可以解释为基金投资风格的权重。

5. **分析结果**：通过观察哪些指数的权重最高，可以了解基金主要投资于哪种类型的资产。这有助于投资者理解基金经理的投资风格和策略。

这个方法的关键在于回归分析这一步，它可以揭示基金收益与各类资产之间的关系。需要注意的是，这种分析假设基金经理的投资风格在分析期间保持一致，且所选基准指数能充分覆盖基金的投资范围。

但实际上，除了回归，我们还可以通过最优化的方式来解决这个问题：

1. **构建优化问题**：将RBSA问题构建为一个凸优化问题，其中目标函数通常是最小化基金收益和基准指数加权组合收益之间的差异。

2. **添加约束**：在优化问题中添加一些约束条件，例如基准指数权重的和为1（表示完全投资），权重非负（不允许空头持仓），可能还会包括其他的先验知识或投资限制作为约束。

3. **求解凸优化问题**：使用数学优化软件或库（如CVXOPT、SciPy等）来求解这个凸优化问题。

> [!important]
> 使用凸优化进行风格分析的主要优点在于可以直接在优化模型中加入各种实际的投资约束，使得解决方案更符合实际情况。此外，通过求解优化问题，可以确保找到全局最优解，这是传统最小二乘法线性回归所无法保证的。

## RBSA的最优化问题构建

### 构建问题
**定义问题**: 我们的目标是找到一组权重向量 $w = [w_1, w_2,..., w_n]$，使得指数投资组合$\hat{y}=Xw$的收益尽可能接近基金的历史收益$y$。定义损失函数为$|Xw - y|^2$，即$Xw$与$y$之间差异的平方和，这是一个最小化问题。

$$ \begin{equation} \min |Xw - y|^2 \end{equation} $$

其中：
$w$是我们要找的风格指数的权重向量；
$X$是一个矩阵，其中的列代表不同风格指数的历史回报；
$y$是基金历史回报的向量收益的加权差异的线性部分。

**约束条件**:对权重的约束为权重和为1且权重非负

$$
\begin{align}
\sum_{i=1}^n w_i = 1 \\
w_1, w_2,..., w_n \geq 0
\end{align}
 $$

### 标准形式

我们构造的问题与标准的凸优化问题有些出入，需要我们在实际代码中做些变换，通常一个标准的凸优化问题形式为：

$$\begin{equation} \min \frac{1}{2} x^T P x + q^T x \end{equation}$$
$$\begin{align}
G \cdot w \leq h \\
A \cdot x = b 
\end{align}$$

我们需要找到标准的P、q、G、h、A、b才能使用CVXOPT库来求解。

**变换过程**:

对目标函数进行展开
$$
\begin{align}
|Xw - y|^2 &= (Xw - y)^T(Xw - y) \\
           &= w^TX^TXw - w^TX^Ty - y^TXw + y^Ty \\
           &= w^TX^TXw - y^TXw - y^TXw + y^Ty \\
           &= w^TX^TXw - 2*y^TXw + y^Ty
\end{align}
$$

在这个表达式中，$w^TX^Ty$会被展开为一个标量，所以$w^TX^Ty=y^TXw$，合并后将它们视为$q^Tw$中的项,因此$q=-2X^Ty$。在二次规划中，我们通常省略常数项，这对优化的结果没有影响，$y^Ty$将被省略。因此我们的目标函数将变成：
$$
\min w^TX^TXw - 2*y^TXw
$$
进一步转化：
$$
\min (\frac{1}{2}w^TX^TXw - y^TXw)*2
$$
系数$2$不影响优化结果，去除后最终得到：
$$
\begin{align}
P = X^TX \\
q = -X^Ty
\end{align}
$$

### 伪代码求解
```python
import numpy as np
from cvxopt import matrix, solvers

# 假设我们有1支基金与3个风格指数的收益率数据
fund_returns = np.array([0.02, 0.03, 0.01, 0.03, 0.02])
index_returns = np.array([
    [0.01, 0.03, 0.02, 0.03, 0.01],  # 指数1
    [0.02, 0.02, 0.01, 0.03, 0.02],  # 指数2
    [0.03, 0.01, 0.03, 0.02, 0.03]   # 指数3
]).T

# 指数个数
n = index_returns.shape[1])

# 目标是最小化基金收益和加权指数组合收益之间的差异
# 我们使用平方差作为优化目标

# 计算协方差矩阵
# 我们只关心与基准指数相关的协方差部分
P = matrix(index_return.T @ index_return)
q = matrix(-index_return.T @ fund_return)

# 添加约束条件
# 权重非负，负号将大于等于约束转为小于等于
G = matrix(-np.eye(n)
h = matrix(np.zeros(n))

# 权重和为1
A = matrix(1.0, (1, n))
b = matrix(1.0)

# 求解凸优化问题
solvers.options['show_progress'] = False
sol = solvers.qp(P, q, G, h, A, b)

# 输出结果
print(sol['x'])
```

## 实际案例

2023年权益型公募基金大部分亏损严重，导致上涨的基金显得尤为难得，我们就以热门的金元顺安元启为例，做个分析，看看2023年的计算结果是否与实际情况接近，主要是投资于小微盘。

### 准备数据

首先基金收益使用的是自2018年初到2023年底的复权单位净值数据，指数选取了巨潮的风格指数，包括大盘成长、大盘价值、小盘成长、小盘价值，以及中债总财富总值指数，来代表现金收益。

先看看2018年以来的收益情况吧

::: chart 基金与指数收益情况

```json
{
    "type": "line",
    "data": {
        "labels": [
            "2018-01-02",
            "2018-01-31",
            "2018-02-28",
            "2018-03-31",
            "2018-04-30",
            "2018-05-31",
            "2018-06-30",
            "2018-07-31",
            "2018-08-31",
            "2018-09-30",
            "2018-10-31",
            "2018-11-30",
            "2018-12-31",
            "2019-01-31",
            "2019-02-28",
            "2019-03-31",
            "2019-04-30",
            "2019-05-31",
            "2019-06-30",
            "2019-07-31",
            "2019-08-31",
            "2019-09-30",
            "2019-10-31",
            "2019-11-30",
            "2019-12-31",
            "2020-01-31",
            "2020-02-29",
            "2020-03-31",
            "2020-04-30",
            "2020-05-31",
            "2020-06-30",
            "2020-07-31",
            "2020-08-31",
            "2020-09-30",
            "2020-10-31",
            "2020-11-30",
            "2020-12-31",
            "2021-01-31",
            "2021-02-28",
            "2021-03-31",
            "2021-04-30",
            "2021-05-31",
            "2021-06-30",
            "2021-07-31",
            "2021-08-31",
            "2021-09-30",
            "2021-10-31",
            "2021-11-30",
            "2021-12-31",
            "2022-01-31",
            "2022-02-28",
            "2022-03-31",
            "2022-04-30",
            "2022-05-31",
            "2022-06-30",
            "2022-07-31",
            "2022-08-31",
            "2022-09-30",
            "2022-10-31",
            "2022-11-30",
            "2022-12-31",
            "2023-01-31",
            "2023-02-28",
            "2023-03-31",
            "2023-04-30",
            "2023-05-31",
            "2023-06-30",
            "2023-07-31",
            "2023-08-31",
            "2023-09-30",
            "2023-10-31",
            "2023-11-30",
            "2023-12-31"
        ],
        "datasets": [
            {
                "label": "大盘成长",
                "data": [
                    1.0,
                    1.05,
                    0.99,
                    0.95,
                    0.91,
                    0.92,
                    0.84,
                    0.83,
                    0.76,
                    0.76,
                    0.69,
                    0.71,
                    0.66,
                    0.72,
                    0.86,
                    0.92,
                    0.93,
                    0.85,
                    0.9,
                    0.91,
                    0.92,
                    0.93,
                    0.95,
                    0.94,
                    1.01,
                    1.0,
                    1.0,
                    0.95,
                    1.03,
                    1.05,
                    1.18,
                    1.38,
                    1.41,
                    1.34,
                    1.38,
                    1.42,
                    1.61,
                    1.71,
                    1.66,
                    1.56,
                    1.65,
                    1.73,
                    1.76,
                    1.59,
                    1.49,
                    1.57,
                    1.6,
                    1.61,
                    1.62,
                    1.44,
                    1.43,
                    1.3,
                    1.24,
                    1.25,
                    1.44,
                    1.32,
                    1.27,
                    1.15,
                    1.08,
                    1.15,
                    1.16,
                    1.29,
                    1.23,
                    1.22,
                    1.15,
                    1.06,
                    1.08,
                    1.12,
                    1.05,
                    1.0,
                    0.99,
                    0.95,
                    0.93
                ],
                "tension": 0.1
            },
            {
                "label": "大盘价值",
                "data": [
                    1.0,
                    1.08,
                    1.0,
                    0.95,
                    0.93,
                    0.92,
                    0.87,
                    0.89,
                    0.86,
                    0.9,
                    0.85,
                    0.84,
                    0.8,
                    0.87,
                    0.94,
                    0.97,
                    1.0,
                    0.93,
                    0.98,
                    0.98,
                    0.94,
                    0.94,
                    0.96,
                    0.95,
                    1.01,
                    0.97,
                    0.92,
                    0.86,
                    0.9,
                    0.88,
                    0.89,
                    0.94,
                    0.98,
                    0.95,
                    0.97,
                    1.07,
                    1.05,
                    1.05,
                    1.1,
                    1.07,
                    1.03,
                    1.06,
                    1.01,
                    0.89,
                    0.93,
                    0.95,
                    0.94,
                    0.91,
                    0.96,
                    0.96,
                    0.96,
                    0.93,
                    0.9,
                    0.88,
                    0.91,
                    0.84,
                    0.85,
                    0.82,
                    0.74,
                    0.85,
                    0.84,
                    0.88,
                    0.87,
                    0.88,
                    0.93,
                    0.89,
                    0.89,
                    0.94,
                    0.88,
                    0.89,
                    0.85,
                    0.82,
                    0.82
                ],
                "tension": 0.1
            },
            {
                "label": "小盘成长",
                "data": [
                    1.0,
                    0.99,
                    0.97,
                    0.99,
                    0.95,
                    0.91,
                    0.82,
                    0.8,
                    0.72,
                    0.71,
                    0.64,
                    0.66,
                    0.63,
                    0.62,
                    0.75,
                    0.83,
                    0.8,
                    0.73,
                    0.73,
                    0.73,
                    0.73,
                    0.75,
                    0.74,
                    0.74,
                    0.81,
                    0.85,
                    0.85,
                    0.77,
                    0.8,
                    0.82,
                    0.9,
                    0.99,
                    0.99,
                    0.92,
                    0.92,
                    0.96,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.03,
                    1.09,
                    1.11,
                    1.17,
                    1.22,
                    1.17,
                    1.15,
                    1.23,
                    1.23,
                    1.08,
                    1.12,
                    1.0,
                    0.87,
                    0.95,
                    1.03,
                    1.03,
                    0.98,
                    0.9,
                    0.9,
                    0.95,
                    0.89,
                    0.97,
                    0.98,
                    0.97,
                    0.93,
                    0.9,
                    0.9,
                    0.89,
                    0.83,
                    0.83,
                    0.8,
                    0.81,
                    0.8
                ],
                "tension": 0.1
            },
            {
                "label": "小盘价值",
                "data": [
                    1.0,
                    1.02,
                    0.98,
                    0.95,
                    0.91,
                    0.93,
                    0.84,
                    0.84,
                    0.78,
                    0.79,
                    0.72,
                    0.74,
                    0.71,
                    0.71,
                    0.84,
                    0.92,
                    0.9,
                    0.82,
                    0.82,
                    0.81,
                    0.78,
                    0.78,
                    0.77,
                    0.76,
                    0.81,
                    0.8,
                    0.79,
                    0.76,
                    0.78,
                    0.78,
                    0.83,
                    0.95,
                    0.96,
                    0.89,
                    0.89,
                    0.95,
                    0.93,
                    0.89,
                    0.94,
                    0.97,
                    0.98,
                    1.01,
                    0.99,
                    0.99,
                    1.13,
                    1.14,
                    1.07,
                    1.06,
                    1.11,
                    1.03,
                    1.08,
                    1.06,
                    0.96,
                    1.0,
                    1.02,
                    1.0,
                    0.97,
                    0.92,
                    0.9,
                    0.99,
                    0.93,
                    0.99,
                    1.02,
                    1.01,
                    1.02,
                    0.98,
                    0.97,
                    1.01,
                    0.94,
                    0.96,
                    0.93,
                    0.93,
                    0.91
                ],
                "tension": 0.1
            },
            {
                "label": "金元顺安元启",
                "data": [
                    1.0,
                    1.0,
                    1.01,
                    1.02,
                    1.03,
                    1.03,
                    1.04,
                    1.05,
                    1.04,
                    1.04,
                    1.06,
                    1.06,
                    1.07,
                    1.07,
                    1.07,
                    1.08,
                    1.08,
                    1.1,
                    1.11,
                    1.11,
                    1.1,
                    1.11,
                    1.13,
                    1.12,
                    1.21,
                    1.2,
                    1.17,
                    1.24,
                    1.26,
                    1.32,
                    1.38,
                    1.59,
                    1.75,
                    1.72,
                    1.75,
                    1.85,
                    1.82,
                    1.68,
                    1.77,
                    1.87,
                    1.93,
                    2.01,
                    2.03,
                    2.01,
                    2.19,
                    2.22,
                    2.17,
                    2.3,
                    2.55,
                    2.51,
                    2.67,
                    2.81,
                    2.57,
                    2.91,
                    3.08,
                    3.26,
                    3.32,
                    3.15,
                    3.21,
                    3.48,
                    3.45,
                    3.65,
                    3.77,
                    3.66,
                    3.61,
                    3.7,
                    3.8,
                    4.07,
                    4.01,
                    4.05,
                    4.09,
                    4.31,
                    4.33
                ],
                "tension": 0.1
            }
        ]
    },
    "options": {
        "responsive": true,
        "elements": {
            "point": {
                "pointStyle": false
            }
        }
    }
}
```

:::

然后按月分组，对每个月的风格进行分析，得到的结果如下：

::: chart 金元顺安元启风格分析

```json
{
    "type": "bar",
    "data": {
        "labels": [
            "2018-01",
            "2018-02",
            "2018-03",
            "2018-04",
            "2018-05",
            "2018-06",
            "2018-07",
            "2018-08",
            "2018-09",
            "2018-10",
            "2018-11",
            "2018-12",
            "2019-01",
            "2019-02",
            "2019-03",
            "2019-04",
            "2019-05",
            "2019-06",
            "2019-07",
            "2019-08",
            "2019-09",
            "2019-10",
            "2019-11",
            "2019-12",
            "2020-01",
            "2020-02",
            "2020-03",
            "2020-04",
            "2020-05",
            "2020-06",
            "2020-07",
            "2020-08",
            "2020-09",
            "2020-10",
            "2020-11",
            "2020-12",
            "2021-01",
            "2021-02",
            "2021-03",
            "2021-04",
            "2021-05",
            "2021-06",
            "2021-07",
            "2021-08",
            "2021-09",
            "2021-10",
            "2021-11",
            "2021-12",
            "2022-01",
            "2022-02",
            "2022-03",
            "2022-04",
            "2022-05",
            "2022-06",
            "2022-07",
            "2022-08",
            "2022-09",
            "2022-10",
            "2022-11",
            "2022-12",
            "2023-01",
            "2023-02",
            "2023-03",
            "2023-04",
            "2023-05",
            "2023-06",
            "2023-07",
            "2023-08",
            "2023-09",
            "2023-10",
            "2023-11",
            "2023-12"
        ],
        "datasets": [
            {
                "label": "大盘成长",
                "data": [
                    0.0038,
                    0.0127,
                    0.001,
                    0.0039,
                    0.004,
                    0.0579,
                    0.002,
                    0.0696,
                    0.0033,
                    0.1323,
                    0.0003,
                    0.0,
                    0.001,
                    0.0003,
                    0.0002,
                    0.0006,
                    0.0003,
                    0.0,
                    0.0,
                    0.0001,
                    0.2146,
                    0.0713,
                    0.0001,
                    0.0,
                    0.0001,
                    0.0,
                    0.0,
                    0.0,
                    0.2718,
                    0.0,
                    0.0002,
                    0.0,
                    0.0,
                    0.0013,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0797,
                    0.0,
                    0.1409,
                    0.0001,
                    0.0,
                    0.0,
                    0.0001,
                    0.0,
                    0.0,
                    0.0,
                    0.0003,
                    0.0,
                    0.0001,
                    0.0,
                    0.0,
                    0.0001,
                    0.0,
                    0.0002,
                    0.0,
                    0.0003,
                    0.0784,
                    0.0,
                    0.0,
                    0.0029,
                    0.0001,
                    0.1639,
                    0.0,
                    0.0,
                    0.0006
                ],
                "tension": 0.1
            },
            {
                "label": "大盘价值",
                "data": [
                    0.0031,
                    0.062,
                    0.0062,
                    0.0003,
                    0.004,
                    0.0034,
                    0.001,
                    0.0001,
                    0.0043,
                    0.0227,
                    0.0084,
                    0.0517,
                    0.0237,
                    0.0117,
                    0.0243,
                    0.0248,
                    0.0001,
                    0.0,
                    0.0,
                    0.0,
                    0.0003,
                    0.0019,
                    0.0,
                    0.0127,
                    0.0151,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0486,
                    0.0,
                    0.0,
                    0.0,
                    0.0207,
                    0.1,
                    0.0063,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0104,
                    0.0,
                    0.2183,
                    0.0,
                    0.1181,
                    0.1478,
                    0.0,
                    0.0,
                    0.0,
                    0.0055,
                    0.0,
                    0.0,
                    0.0011,
                    0.0,
                    0.0001,
                    0.0,
                    0.0,
                    0.0001,
                    0.0,
                    0.0001,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0007,
                    0.0,
                    0.0,
                    0.0
                ],
                "tension": 0.1
            },
            {
                "label": "小盘成长",
                "data": [
                    0.009,
                    0.0529,
                    0.0019,
                    0.0,
                    0.0014,
                    0.0177,
                    0.1045,
                    0.0221,
                    0.0081,
                    0.0004,
                    0.0014,
                    0.0,
                    0.0214,
                    0.0008,
                    0.0002,
                    0.0049,
                    0.3311,
                    0.4162,
                    0.2003,
                    0.1278,
                    0.2702,
                    0.1251,
                    0.1545,
                    0.3262,
                    0.0081,
                    0.0,
                    0.0,
                    0.1002,
                    0.3101,
                    0.2187,
                    0.001,
                    0.098,
                    0.567,
                    0.0247,
                    0.2718,
                    0.2737,
                    0.0,
                    0.0,
                    0.0,
                    0.0004,
                    0.0,
                    0.0,
                    0.1123,
                    0.0004,
                    0.1243,
                    0.0192,
                    0.2324,
                    0.0008,
                    0.0137,
                    0.0015,
                    0.0,
                    0.4497,
                    0.3916,
                    0.4296,
                    0.0092,
                    0.1152,
                    0.0758,
                    0.5782,
                    0.0005,
                    0.0659,
                    0.1354,
                    0.2428,
                    0.1802,
                    0.0061,
                    0.0217,
                    0.0,
                    0.0669,
                    0.2439,
                    0.3284,
                    0.0144,
                    0.0779,
                    0.0177
                ],
                "tension": 0.1
            },
            {
                "label": "小盘价值",
                "data": [
                    0.003,
                    0.0001,
                    0.0154,
                    0.0079,
                    0.0019,
                    0.0,
                    0.107,
                    0.0038,
                    0.0073,
                    0.05,
                    0.0002,
                    0.0,
                    0.0167,
                    0.0123,
                    0.0002,
                    0.0131,
                    0.002,
                    0.0428,
                    0.2146,
                    0.3796,
                    0.1731,
                    0.5592,
                    0.4263,
                    0.3337,
                    0.8324,
                    0.884,
                    0.7931,
                    0.8369,
                    0.0173,
                    0.4236,
                    0.6895,
                    0.5136,
                    0.09,
                    0.6691,
                    0.1762,
                    0.281,
                    0.7113,
                    0.521,
                    0.3471,
                    0.6158,
                    0.2592,
                    0.3453,
                    0.3122,
                    0.3301,
                    0.3653,
                    0.3087,
                    0.1535,
                    0.586,
                    0.7563,
                    0.6563,
                    0.6104,
                    0.2802,
                    0.3661,
                    0.1369,
                    0.7234,
                    0.5748,
                    0.7056,
                    0.1486,
                    0.6146,
                    0.5041,
                    0.743,
                    0.2426,
                    0.7083,
                    0.9154,
                    0.3692,
                    0.8368,
                    0.533,
                    0.4133,
                    0.1898,
                    0.8748,
                    0.4197,
                    0.8852
                ],
                "tension": 0.1
            },
            {
                "label": "中债总财富",
                "data": [
                    0.9811,
                    0.8722,
                    0.9756,
                    0.9879,
                    0.9887,
                    0.921,
                    0.7855,
                    0.9044,
                    0.977,
                    0.7946,
                    0.9896,
                    0.9482,
                    0.9373,
                    0.9749,
                    0.9751,
                    0.9566,
                    0.6666,
                    0.5409,
                    0.585,
                    0.4925,
                    0.3417,
                    0.2426,
                    0.4191,
                    0.3274,
                    0.1443,
                    0.116,
                    0.2069,
                    0.0628,
                    0.4008,
                    0.3092,
                    0.3093,
                    0.3884,
                    0.343,
                    0.2842,
                    0.452,
                    0.4391,
                    0.2887,
                    0.479,
                    0.6529,
                    0.3838,
                    0.7407,
                    0.6442,
                    0.5754,
                    0.3715,
                    0.5104,
                    0.4131,
                    0.4662,
                    0.4131,
                    0.23,
                    0.3421,
                    0.3841,
                    0.2701,
                    0.2422,
                    0.4322,
                    0.2674,
                    0.3099,
                    0.2186,
                    0.2732,
                    0.3847,
                    0.43,
                    0.1213,
                    0.5146,
                    0.1112,
                    0.0,
                    0.609,
                    0.1631,
                    0.3972,
                    0.3427,
                    0.3171,
                    0.1108,
                    0.5024,
                    0.0964
                ],
                "tension": 0.1
            }
        ]
    },
    "options": {
        "responsive": true,
        "scales": {
            "x": {
                "stacked": true
            },
            "y": {
                "stacked": true,
                "max": 1
            }
        }
    }
}
```

:::


### 源码获取

可以从[github](https://github.com/PengchuanC/arcticles/tree/main/codes/rbsa/)上获取到相关数据和处理代码，整体计算还是偏简单的。